<UserControl x:Class="Cafe_Kiosk.Views.MenuView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Cafe_Kiosk.Views" 
             xmlns:fa6="http://schemas.fontawesome.com/icons/svg"
             mc:Ignorable="d" 
             d:DesignHeight="1000" d:DesignWidth="720"
             Background="#6F4E37">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!--Category Btns-->
        <StackPanel Grid.Row="0"
                    Orientation="Horizontal"
                    VerticalAlignment="Center"
                    HorizontalAlignment="Center"
                    Margin="0 10">
            <Button Width="50" Height="40"
                    Margin="5"
                    Command="{Binding PreviousCategoryCommand}">
                <fa6:SvgAwesome Icon="Solid_LeftLong"/>
            </Button>

            <Border Width="150" Height="40"
                    Margin="10 0"
                    VerticalAlignment="Center"
                    HorizontalAlignment="Center">
                <StackPanel Orientation="Horizontal"
                            VerticalAlignment="Center"
                            HorizontalAlignment="Center">
                    <fa6:SvgAwesome Icon="{Binding CurrentIcon}"
                                    Width="30" Height="30"
                                    Margin="0 0 5 0"/>
                    <TextBlock Text="{Binding CurrentCategory}"
                               FontSize="30"
                               FontWeight="Bold"/>
                </StackPanel>
            </Border>

            <Button Width="50" Height="40"
                    Command="{Binding NextCategoryCommand}">
                <fa6:SvgAwesome Icon="Solid_RightLong"/>
            </Button>
        </StackPanel>
        
        <!--Menu List-->
        <ScrollViewer Grid.Row="1"
                      VerticalScrollBarVisibility="Auto">
            <ItemsControl ItemsSource="{Binding FilteredMenuItems}"
                          VerticalAlignment="Top">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <UniformGrid Columns="4"/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>

                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Button Command="{Binding DataContext.MenuItemClickCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                CommandParameter="{Binding}"
                                Background="White"
                                BorderBrush="LightGray"
                                BorderThickness="1"
                                Height="200"
                                Margin="5"
                                Padding="10">
                            <StackPanel>
                                <Image Source="{Binding ImageUri}"
                                       Height="110"
                                       Stretch="Uniform"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Center"
                                       Margin="0 0 0 10"/>
                                <TextBlock Text="{Binding Name}"
                                           FontSize="16"
                                           FontWeight="Bold"
                                           TextAlignment="Center"/>
                                <TextBlock Text="{Binding Price, StringFormat={}{0:N0}원}"
                                           FontSize="14"
                                           Foreground="Gray"
                                           TextAlignment="Center"/>
                            </StackPanel>
                        </Button>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
    </Grid>
</UserControl>
