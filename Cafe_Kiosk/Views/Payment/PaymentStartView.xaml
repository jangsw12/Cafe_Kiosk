<UserControl x:Class="Cafe_Kiosk.Views.Payment.PaymentStartView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Cafe_Kiosk.Views.Payment"
             xmlns:model="clr-namespace:Cafe_Kiosk.Models" xmlns:fa6="http://schemas.fontawesome.com/icons/svg"
             mc:Ignorable="d" 
             d:DesignHeight="1000" d:DesignWidth="720">
    <Grid Background="Transparent"
          Margin="30">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!--Info Text-->
        <TextBlock Grid.Row="0"
                   Text="아래 내용을 확인한 후 결제를 진행해주세요."
                   FontSize="18"
                   FontWeight="SemiBold"
                   Margin="0 0 0 20"/>

        <!--Cart Items List-->
        <ListView Grid.Row="1"
                  ItemsSource="{Binding CartItems}"
                  Margin="0 0 0 20"
                  Background="White"
                  BorderBrush="Gray"
                  BorderThickness="1"
                  Padding="10">
            <ListView.ItemTemplate>
                <DataTemplate DataType="{x:Type model:CartItem}">
                    <DockPanel Margin="5">
                        <TextBlock Text="{Binding Name}"
                                   FontWeight="Bold"
                                   Width="200"/>
                        <TextBlock Text="{Binding OptionDisplay}"
                                   Foreground="Gray"
                                   Width="150"/>
                        <TextBlock Text="{Binding Quantity}"
                                   HorizontalAlignment="Right"
                                   Width="50"/>
                        <TextBlock Text="{Binding TotalPrice, StringFormat='\{0:N0}'}"
                                   HorizontalAlignment="Right"
                                   Width="100"/>
                    </DockPanel>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>
        
        <!--Total Price-->
        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="0 0 0 20">
            <TextBlock Text="총 결제 금액: "
                       FontSize="18"
                       FontWeight="SemiBold"/>
            <TextBlock Text="{Binding TotalCartPrice, StringFormat='\{0:N0}'}"
                       FontSize="18"
                       FontWeight="Bold"
                       Foreground="#C62828"
                       Margin="10 0 0 0"/>
        </StackPanel>
        
        <!--Buttons-->
        <StackPanel Grid.Row="3"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right">
            <Button Grid.Column="1"
                    Command="{Binding GoBackCommand}">
                <StackPanel Orientation="Horizontal"
                            VerticalAlignment="Center">
                    <fa6:SvgAwesome Icon="Solid_ArrowLeft"
                                    Width="16" Height="16"
                                    VerticalAlignment="Center"/>
                    <TextBlock Text="장바구니로 돌아가기"
                               VerticalAlignment="Center"/>
                </StackPanel>
            </Button>

            <Button Content="결제 진행하기"
                    Command="{Binding ProceedToPaymentCommand}"/>
        </StackPanel>
    </Grid>
</UserControl>
